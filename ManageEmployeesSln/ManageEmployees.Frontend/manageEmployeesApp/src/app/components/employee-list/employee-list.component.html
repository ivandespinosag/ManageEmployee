<p-table *ngIf="(employees$ | async) as employees" [value]="employees" [responsiveLayout]="'scroll'" [tableStyle]="{ 'width': '100%' }">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 10%">Nombre</th>
            <th style="width: 10%">Apellido</th>
            <th style="width: 15%">Cargo</th>
            <th style="width: 15%">Email</th>
            <th style="width: 15%">Fecha de Contrataci√≥n</th>
            <th style="width: 10%">Foto</th>
            <th style="width: 15%">Vencimiento de Contrato</th>
            <th style="width: 10%">Acciones</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-employee>
        <tr>
            <td>{{ employee.firstName }}</td>
            <td>{{ employee.lastName }}</td>
            <td>{{ employee.position }}</td>
            <td>{{ employee.email }}</td>
            <td>{{ employee.hireDate | date }}</td>
            <td><img [src]="employee.photoUrl" alt="Foto" class="employee-photo" /></td>
            <td>{{ employee.contractEndDate | date }}</td>
            <td>
                <div class="actions-container">
                    <p-button icon="pi pi-pencil" (click)="showUpdateDialog(employee)" 
                              styleClass="p-button-text edit-button" severity="warning" pTooltip="Editar"
                              tooltipPosition="bottom"></p-button>
                    <p-button icon="pi pi-trash" (click)="deleteEmployee(employee.employeeId)" 
                              styleClass="p-button-text delete-button" severity="danger" pTooltip="Eliminar"
                              tooltipPosition="bottom"></p-button>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>

<app-employee-update-modal #updateModal [employee]="selectedEmployee" (employeeUpdated)="onEmployeeUpdated()"></app-employee-update-modal>